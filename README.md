WIP: See @markbiddlecom

Fuzzy is a handy little library for writing expressive
["fuzz tests"](https://en.wikipedia.org/wiki/Fuzz_testing) in Java.

```java
public void test() {
    // Create an input that can be one of three different strings
    Generator<String> myString = Generator.of("A", "B", "C");

    // The value of myString returned by the .get() method will be
    // different for each iteration of the test.
    System.out.println(myString.get());

    // You can use the generator multiple times during your test, and
    // each time it will return the same value.
    assert myString.get() != "D";
}
```

Fuzzy also comes with some built-in generators that ensure that your
code is tested against common input edge cases. For example, a generator
of `Any.integer()` will inject your inputs with negative values,
positive values, and zero.

# Use with JUnit

The `FuzzyRule` test rule can be added to your JUnit test cases to
automatically execute your tests against various permutations of their
input variables:

```java
public class MyClassTest {

    @Rule public FuzzyRule fuzzyRule = FuzzyRule.DEFAULT;

    @Test
    public void testSomething() {
        Generator<String> myString = Generator.of(Any.string());

        MyClass subject = new MyClass();

        boolean actual = subject.something(myString.get());
        assertTrue(actual);
    }

}
```

FuzzyRule defines a number of options for controlling the flow of your
tests:

## `failImmediately`

```java
@Rule FuzzyRule fuzzyRule = FuzzyRule.custom()
                                     .withFailImmediately(false)
                                     .build();

@Rule FuzzyRule fuzzyRule = FuzzyRule.REPORTING_ALL_FAILURES;
```

Determines if a failure of any test case iteration will be reported
immediately. When `false`, FuzzyRule will execute your test case against
all expected iterations regardless of whether any individual iteration
results in a test failure. Only the last encountered failure will be
reported to JUnit.

The `FuzzyRule.REPORTING_ALL_FAILURES` preset sets `failImmediately` to
false and also uses a test reporter that summarizes the generated input
values for each failed iteration, which can be helpful when debugging
broken tests.

The default value for `failImmediately` is `true`, meaning that failures
may preempt some test case iterations from executing.

## `testReporter`

```java
@Rule FuzzyRule fuzzyRule = FuzzyRule.custom()
                                     .withTestReporter(...)
                                     .build();

@Rule FuzzyRule fuzzyRule = FuzzyRule.SUMMARIZING;
@Rule FuzzyRule fuzzyRule = FuzzyRule.VERBOSE;
```

Configures the amount of output generated by fuzzy during test runs, or
allows you to attach your own listeners to the testing engine.

The `FuzzyRule.SUMMARIZING` preset will output the number of iterations
executed for each of your test cases.

The `FuzzyRule.VERBOSE` preset will output detailed information during
the test run, including the generated inputs for each test case
iteration.

For custom test reporters, see the documentation for `TestReporter`.

The default value for `testReporter` is `TestReporter.DEFAULT`, which
produces no additional output.

## `maxIterations`

```java
@Rule FuzzyRule fuzzyRule = FuzzyRule.custom()
                                     .withMaxIterations(100)
                                     .build();
```

The maximum number of times each test in your suite will be executed. If
the number of permutations necessary to cover all input pairs in the
test is greater than this bound, they will not be executed.

The default value for `maxIterations` is `100`.

## `failAfterMaxIterations`

```
@Rule FuzzyRule fuzzyRule = FuzzyRule.custom()
                                     .withFailAfterMaxIterations(true)
                                     .build();
```

Determines if tests fail when their input permutations cannot be covered
with fewer than the maximum iterations.

The default value for `failAfterMaxIterations` is `false`.

# Generators and Cases

# Behavioral Specs with Any

## `Any.string()`

## `Any.*integer()`

# Pairwise Testing

# Executing test iterations manually

For other frameworks or test scenarios, you can configure the test
process manually. Use the `Context` class to initialize and iterate
over the possible permutations.

```java
public void executeFuzzyTest() {
    // Initialize the testing context. This applies to all generators
    // created on this thread.
    Context.init();

    try {
        do {
            // Execute your test code here.
            executeSingleTestIteration();
        } while(Context.next());
    }
    catch(AssertionError | Exception e) {
        // Handle test failures
        // You can use Context.report() or Context.reportTo(StringBuilder)
        // to get a sense of the inputs that caused the test failure.
    }
    finally {
        // Clean up for the next test
        Context.cleanUp();
    }
}
```

# FAQ

# Contributing
